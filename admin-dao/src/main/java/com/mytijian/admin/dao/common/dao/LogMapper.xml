<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mytijian.admin.dao.common.dao.LogMapper">

	<resultMap id="logMapResult" type="com.mytijian.admin.dao.common.dataobject.LogDO">
		<id column="id" property="id" />
		<result column="gmt_created" property="gmtCreated" />
		<result column="gmt_modified" property="gmtModified" />
		<result column="employee_id" property="employeeId" />
		<result column="action" property="action" />
		<result column="parameters" property="parameters" />
		<result column="ip" property="ip" />
	</resultMap>

	<sql id="baseColumns">
		id,
		gmt_created,
		gmt_modified,
		employee_id,
		action,
		parameters,
		ip
	</sql>

	<select id="selectById" resultMap="logMapResult">
		select
		<include refid="baseColumns" />
		from tb_log where id = #{menuId}
	</select>

	<select id="countTotal" resultType="Integer">
		select count(*) from tb_log
	</select>

	<insert id="insert" parameterType="com.mytijian.admin.dao.common.dataobject.LogDO"
		useGeneratedKeys="true" keyProperty="id">
		insert into tb_log
		(
		gmt_created,
		gmt_modified,
		employee_id,
		action,
		parameters,
		ip
		)
		values
		(
		now(),
		now(),
		#{employeeId},
		#{action},
		#{parameters},
		#{ip}
		)
	</insert>

</mapper>