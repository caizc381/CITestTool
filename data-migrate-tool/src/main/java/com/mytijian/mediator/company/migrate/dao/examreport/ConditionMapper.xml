<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.mytijian.mediator.company.migrate.dao.examreport.ConditionMapper">
	
	<!-- 此处因为需要调用的接口在灰度环境，没有合并，故先抄写在这里 -->
	
	<select id="selectAllPlatformManager" resultType="Integer">
		select account_id from tb_account_role where role_id=4 or role_id =13
	</select>
	
	<select id="selectAllMCompanyId" resultType="Integer">
		select id from tb_exam_company where type = 4
	</select>
	<select id="selectOrderByOrderNum" 
	resultType="com.mytijian.mediator.company.migrate.dao.dataobj.examreport.OrderConditionDO">
		select  b.exam_company_id as newCompanyId,
				b.old_exam_company_id as oldCompanyId,
				b.manager_id as managerId,
				b.owner_id as ownerId,
				b.operator_id as operatorId,
				a.from_site as fromSite,
				a.source
		from tb_order a
		left join tb_order_relation b on a.id = b.order_id
		where
			a.order_num = #{orderNum}
	</select>
</mapper>